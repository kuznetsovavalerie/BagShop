@using Newtonsoft.Json

@model BagShop.Models.OrderViewModel
@{
    ViewBag.Title = "Подтверждение заказа";
}

<script type="text/javascript" src="~/app/baseController.js"></script>
<script type="text/javascript" src="~/app/shopping/controllers/orderController.js"></script>

<div ng-app="app" ng-controller="orderController" ng-init="init(@JsonConvert.SerializeObject(Model))">
    <div class="row">
        <div class="col-lg-2"></div>
        <div class="col-lg-8">
            <form name="orderSubmission" ng-submit="submit()">
                <div class="row">
                    <div class="col-lg-1">
                        <img class="img-preview" src="{{ Product.TitleImage }}" />
                    </div>
                    <div class="col-lg-3">
                        <h4>{{ Product.Title }}</h4>
                    </div>
                    <div class="col-lg-3">
                        <div class="dropdown colour-dd">
                            <button class="btn btn-default dropdown-toggle" type="button" id="colour-drop-down" data-toggle="dropdown" aria-haspopup="true" aria-expanded="true"">
                                <img class="img-circle" src="{{ selectedColour.PreviewImage }}" />
                                {{ selectedColour.Name }}
                                <span class="caret"></span>
                            </button>
                            <ul class="dropdown-menu" aria-labelledby="colour-drop-down">
                                <li ng-repeat="Colour in Product.Colours">
                                    <a href="#" ng-click="selectColour(Colour)">
                                        <img src="{{ Colour.PreviewImage }}" />
                                        {{ Colour.Name }}
                                    </a>
                                </li>
                            </ul>
                        </div>
                    </div>
                    <div class="col-lg-2">
                        <input type="number" class="col-lg-1" ng-model="Quantity" />
                    </div>
                    <div class="col-lg-1">шт.</div>
                </div>

                <label>+380</label>
                <input type="text" ng-model="PhoneNumber" pattern="^[0-9]{9,9}$" required />
                <input type="text" ng-model="FirstName" pattern="[a-zA-Z- ]{1,30}" required />
                <input type="text" ng-model="LastName" pattern="[a-zA-Z- ]{1,30}" required />
                <input type="text" ng-model="Address" pattern="[a-zA-Z- ,//]{1,256}" required />
                <input type="submit" value="Подтвердить" ng-disabled="orderSubmission.$invalid">
            </form>
        </div>
        <div class="col-lg-2"></div>
    </div>
</div>
<script>
    $(document).ready(function () {
        $('.dropdown-toggle').dropdown();
    });
</script>

