<!DOCTYPE html>
<html ng-app="app">
<head>
    <title></title>
    <meta charset="utf-8" />
    <script type="text/javascript" src="../Scripts/lib/jquery-1.10.2.min.js"></script>
    <script type="text/javascript" src="../Scripts/lib/angular.min.js"></script>
    <script type="text/javascript" src="../Scripts/lib/angular-ui-router.min.js"></script>
    <script type="text/javascript" src="../Scripts/lib/bootstrap.min.js"></script>
    <script type="text/javascript" src="../app/app.js"></script>
    <script type="text/javascript" src="../app/dashboard/controllers/dashboardController.js"></script>
    <link rel="stylesheet" href="../Content/bootstrap.min.css" />
    <link rel="stylesheet" href="../Content/Site.css" />
</head>
<body ng-controller="dashboardController">
    <nav class="navbar navbar-default">
        <div class="container-fluid">
            <div class="navbar-header">
                <a class="navbar-brand" href="#">
                    <!--<img alt="Brand" src="...">-->
                </a>
            </div>

            <ul class="nav navbar-nav">
                <li><a ui-sref="productViewer">Products</a></li>
            </ul>
        </div>
    </nav>
    {{ state }}

    <div ui-view="productsViewer"></div>

    <script type="text/javascript">
        $(document).ready(function () {
            (function () {
                'use strict';

                var whenConfig = ['$urlRouterProvider', function ($urlRouterProvider) {
                    $urlRouterProvider
                    .otherwise('/');
                }];

                //console.log('here');

                angular.module('app')
                        //.config(function ($breadcrumbProvider) {
                        //    $breadcrumbProvider.setOptions({
                        //        prefixStateName: 'index'
                        //    });
                        //})
                        .config(whenConfig)
                        .config(function ($stateProvider) {
                            $stateProvider
                                .state('index', {
                                    url: "/"
                                    //templateUrl: "selection.html",
                                    //ncyBreadcrumb: {
                                    //    label: 'Select'
                                    //}
                                })
                            .state('productViewer', {
                                url: "/products",
                                views: {
                                    //"viewSelection": {
                                    //    templateUrl: "selection.html"
                                    //},
                                    "viewProductList": {
                                        controller: productController,
                                        templateUrl: "master.html"
                                    }
                                    //"viewRadioSummaryDetail": {}
                                }
                                //reloadOnSearch: false,
                                //ncyBreadcrumb: {
                                //    label: "{{ makeModelYear }}",
                                //    parent: 'index'
                                //}
                            })
                            //.state('master.trim', {
                            //    url: "/:trim",
                            //    views: {
                            //        //"viewSelection": {
                            //        //    templateUrl: "selection.html"
                            //        //},
                            //        //"viewMaster": {
                            //        //    templateUrl: "master.html"
                            //        //},
                            //        "viewRadioSummaryDetail": {
                            //            controller: function ($scope, $rootScope, $state, $stateParams) {
                            //                $rootScope.trim = $stateParams.trim;
                            //                $rootScope.$state = $state;
                            //                $rootScope.goto = function (e) {
                            //                    var stateName = 'master.trim.' + e.currentTarget.innerText.trim().toLowerCase();
                            //                    $state.go(stateName);
                            //                }

                            //                $(document).on('checked', '[name=RadioSummaryDetail]', $rootScope.goto);
                            //            },
                            //            templateUrl: "radiosummarydetail.html"
                            //        },
                            //        "viewSummary": {
                            //            templateUrl: "summary.html"
                            //        },
                            //        "viewDetail": {
                            //            templateUrl: "detail.html"
                            //        }
                            //    },
                            //    reloadOnSearch: false,
                            //    ncyBreadcrumb: {
                            //        label: "{{ trim }}"
                            //    }
                            //})
                        })
                .run(['$state', '$rootScope']);
            })();
        })
    </script>
</body>
</html>
